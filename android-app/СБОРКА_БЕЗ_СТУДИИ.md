# Сборка APK без Android Studio

**Чтобы VPN работал встроенным (без v2rayNG):** при сборке через GitHub ядро и ассеты подгружаются автоматически. При локальной сборке нужно один раз скачать и положить файлы (см. Способ 2).

---

## Способ 1: Через GitHub (рекомендуется)

Собрать APK можно бесплатно на GitHub, без Android Studio. **Встроенное ядро (libv2ray.aar и geo-файлы) при сборке скачивается само** — v2rayNG не нужен.

### Шаг 1: Залить проект на GitHub

1. Зарегистрируйтесь на [github.com](https://github.com), если ещё нет аккаунта.
2. Создайте новый репозиторий (например, `vpn-config`). Репозиторий может быть приватным.
3. Залийте туда папку проекта (всю папку `ВПН` или только `android-app` + `.github`). Класть в репо `libv2ray.aar` не обязательно — workflow его скачает перед сборкой.

### Шаг 2: Собрать APK

- Откройте репозиторий на GitHub → вкладка **Actions**.
- Слева выберите workflow **"Build Android APK"**.
- Нажмите **"Run workflow"** → **"Run workflow"**.
- Дождитесь окончания (зелёная галочка).
- Откройте последний запуск → внизу блок **"Artifacts"** → скачайте **app-debug-apk** (ZIP; внутри — `app-debug.apk`).

Готовый APK уже с встроенным ядром: ставить v2rayNG не нужно.

---

## Способ 2: На своём ПК (только командная строка)

Без Android Studio, но с установленными JDK и Android SDK.

**Для встроенного VPN** один раз скачайте и положите:
- **libv2ray.aar** — из [релизов AndroidLibXrayLite](https://github.com/2dust/AndroidLibXrayLite/releases/latest) (файл `libv2ray.aar`) в папку `android-app/app/libs/`.
- **geoip.dat** и **geosite.dat** — из [v2fly/geoip](https://github.com/v2fly/geoip/releases) и [v2fly/domain-list-community](https://github.com/v2fly/domain-list-community/releases) (или из релиза v2ray-core) в `android-app/app/src/main/assets/`.

Далее:

1. Установите **JDK 17** (например, [Adoptium](https://adoptium.net/)).
2. Установите **Android command line tools** (без полной студии):  
   [developer.android.com/studio#command-line-tools-only](https://developer.android.com/studio#command-line-tools-only)
3. Установите **Gradle** 8.x с [gradle.org](https://gradle.org/releases/) или через пакетный менеджер.
4. В командной строке:
   ```bash
   cd "d:\Заказы\ВПН\android-app"
   gradle wrapper
   gradlew.bat assembleDebug
   ```
5. APK будет в `app\build\outputs\apk\debug\app-debug.apk`.

Переменная **ANDROID_HOME** должна указывать на каталог с Android SDK (где лежат `platforms`, `build-tools` и т.д.). Без этого сборка не пройдёт.

---

## Итог

Проще всего — **Способ 1 (GitHub)**: залить проект, запустить Actions, скачать готовый APK из Artifacts. В нём уже встроенное ядро, v2rayNG не нужен.
