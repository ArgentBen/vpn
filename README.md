# Клиент для обхода блокировок (прокси/VPN)

Приложение для Windows: подключает весь системный трафик к прокси-серверу (SOCKS5 или HTTP). Подходит для доступа к заблокированным сайтам через ваш прокси или VPN-сервис с поддержкой SOCKS5/HTTP.

## Что нужно

- **Python 3.8+**
- Прокси- или VPN-сервер с поддержкой **SOCKS5** или **HTTP** (хост, порт, при необходимости логин/пароль). Многие VPN-сервисы выдают SOCKS5-прокси в панели или в приложении.

## Установка

```bash
cd "d:\Заказы\ВПН"
pip install -r requirements.txt
```

## Запуск

```bash
python main.py
```

Или дважды кликните по `run.bat` (после установки зависимостей).

## Как пользоваться

1. Введите **сервер** (хост или IP) и **порт** вашего прокси.
2. Выберите тип: **SOCKS5** (чаще у VPN) или **HTTP**.
3. Если у прокси есть авторизация — укажите **логин** и **пароль**.
4. Нажмите **«Подключиться»**. Системный прокси Windows будет переключён на локальный прокси, который перенаправляет трафик на ваш сервер.
5. Чтобы отключиться — нажмите **«Отключиться»**. Прокси в системе будет выключен.

Можно сохранять настройки в **профили** (кнопка «Сохранить профиль») и выбирать их из списка.

## Важно

- Приложение только **настраивает подключение** к прокси. Сам прокси/VPN-сервер вы получаете отдельно (платный или бесплатный VPN, корпоративный прокси и т.д.).
- Работает только в **Windows** (настройка системного прокси через реестр).
- После закрытия приложения в состоянии «Подключено» прокси автоматически отключается.

## V2Ray (v2ray-core)

Релизы **V2Ray** сейчас выходят в репозитории [v2fly/v2ray-core](https://github.com/v2fly/v2ray-core/releases) (исходный v2ray/v2ray-core больше не обновляется).

**Весь ПК через V2Ray:** запустите **`run_v2ray.bat`**, затем **`Включить_прокси_весь_ПК.bat`** — весь трафик Windows пойдёт через V2Ray. Отключить: **`Выключить_прокси_весь_ПК.bat`**.

**Как запустить V2Ray:**

1. Запустите **`run_v2ray.bat`** (он лежит в корне проекта, рядом с `main.py`). Он перейдёт в папку `v2ray` и запустит `v2ray.exe`; окно консоли останется открытым — в нём будет видно сообщения об ошибках, если что-то пойдёт не так.
2. Не запускайте `v2ray.exe` двойным кликом из проводника без батника: при ошибке окно сразу закроется и вы не увидите причину.
3. Если программа «не запускается»: антивирус (в т.ч. Windows Defender) часто блокирует V2Ray. Добавьте папку `v2ray` в исключения или разрешите `v2ray.exe`.

**Скачать V2Ray для Windows 64-bit:**

1. **Автоматически:** запустите `download_v2ray.bat` — скрипт скачает архив и распакует его в папку `v2ray`.
2. **Вручную:** откройте в браузере и скачайте архив:
   - [v2ray-windows-64.zip (v5.44.1)](https://github.com/v2fly/v2ray-core/releases/download/v5.44.1/v2ray-windows-64.zip)  
   Распакуйте содержимое в папку `v2ray` в этом проекте.

В архиве будут `v2ray.exe`, `v2ctl.exe`, `config.json` (пример конфига) и др. Текущий `config.json` поднимает локальный SOCKS5 на порту 1080 без сервера (трафик «напрямую»). Чтобы идти через VPN, в конфиг нужно добавить outbound с вашим сервером (VMess/VLESS и т.д.).

## Файлы

- `main.py` — окно приложения и логика подключения.
- `proxy_manager.py` — запуск локального прокси (pproxy) и управление системным прокси Windows.
- `profiles.json` — сохранённые профили (создаётся автоматически).
- `download_v2ray.py` / `download_v2ray.bat` — скачивание v2ray-core в папку `v2ray`.
